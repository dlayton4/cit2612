<!doctype html>
<html>
	<head>
		<script src="javascript/deckOperations.js"></script>
		<script>

			function load() {
				deck = newDeck();
				shuffle();

				var deckID = deck['deck_id'];

				var urlReq = `https://deckofcardsapi.com/api/deck/${deckID}/draw/?count=1`;
				var drawCardxhr = new XMLHttpRequest();
				drawCardxhr.open('GET', urlReq);

				drawCardxhr.send(null);
				drawCardxhr.onreadystatechange = function() {
					if (drawCardxhr.readyState === DONE) {
						if (drawCardxhr.status === OK) {
							card = JSON.parse(drawCardxhr.responseText);
							var img = document.createElement("img");
							img.setAttribute("src", card.cards[0].image);
							img.setAttribute("alt", card.cards[0].value + " of " + card.cards[0].suit);
							document.getElementById("p1").appendChild(img);
						}
					}
				}
			}
		</script>
	</head>
	<body onload="load()">
		<div id="board">
			<div id="deck"></div>
			<div id="discard"></div>
			<div id="p1">
				<div id="playerHand1"></div>
				<div id="playerHand2"></div>
				<div id="playerHand3"></div>
				<div id="playerHand4"></div>
				<div id="playerHand5"></div>
			</div>
		</div>
		<div id="command"></div>
		<button onclick="localStorage.removeItem('newDeck');">Click</button>
	</body>
</html>